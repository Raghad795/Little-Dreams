<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/Contact.css">
    <link rel="stylesheet" href="../CSS/nav&foot.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Baloo&display=swap">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../HTML/JS/nav.js"></script>
    <title>Your Form</title>
    <style>
        .error-message {
            color: red;
            display: none;
        }
    </style>
</head>
<body>
    <nav>
        <ul class="menu">
            <li class="logo"><a href="#">LITTLE DREAMS</a></li>
            <li class="item"><a href="../../index.html">Home</a></li>
            <li class="item"><a href="../../stories&tipss/html/aboutUs.html">About</a></li>
            <li class="item"><a href="../HTML/Courses.html">Courses</a></li>
            <li class="item"><a href="../../stories&tipss/html/story.html">Stories</a></li>
            <li class="item"><a href="../../activity/HTML/activity.html">Activites</a></li>
            <li class="item"><a href="../../stories&tipss/html/guids.html">Tips</a></li>
            
            <li class="item button"><a href="../../activity/HTML/signIn.html">Sin in</a></li>
            <li class="item button secondary"><a href="../../activity/HTML/signUp.html">Sin up</a></li>
            <li class="toggle"><span class="bars"></span></li>
        </ul>
    </nav>

    <form id="myForm" action="/insert" method="POST" onsubmit="return validateForm()">
        <label for="name">Full Name:</label>
        <input type="text" id="name" name="name"><br>

        <label for="gender">Gender:</label>
        <select id="gender" name="gender">
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select><br>

        <label for="mobile">Mobile:</label>
        <input type="text" id="mobile" name="mobile"><br>

        <label for="dob">Date of Birth:</label>
        <input type="date" id="dob" name="dob"><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email"><br>

        <label for="language">Language:</label>
        <select id="language" name="language">
            <option value="arabic">Arabic</option>
            <option value="english">English</option>
            <option value="french">French</option>
        </select><br>

        <label for="message">Message:</label>
        <textarea id="message" name="message" rows="4"></textarea><br>
        <div class="box">
        <iframe src="https://giphy.com/embed/qECWEJ69G0Wf4sGRwZ" width="100" height="100" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/LINEFRIENDS-happy-bunny-rabbit-qECWEJ69G0Wf4sGRwZ">via GIPHY</a></p>

        <input type="submit" value="Submit">
        </div>
        
        
        <!-- Error messages container -->
        <div id="errorContainer" class="error-message"></div>
    </form>

    <script>
        function validateForm() {
            var name = document.getElementById('name').value.trim();
            var mobile = document.getElementById('mobile').value.trim();
            var email = document.getElementById('email').value.trim();
            var message = document.getElementById('message').value.trim();

            var errorContainer = document.getElementById('errorContainer');

            // Reset previous messages
            errorContainer.innerHTML = "";
            errorContainer.style.display = "none";

            // Validate Name
            if (name === "") {
                displayErrorMessage("Please enter your full name.");
            } 

            // Validate Mobile
            if (!/^05\d{8}|^\+966\d+$/.test(mobile)) {
                  displayErrorMessage("Please enter a valid Saudi mobile number (10 digits starting with '05' or starting with '+966').");
               }

               if (!dob) {
                    displayErrorMessage("Please choose your date of birth.");
                }   
            

            // Validate Email
            if (email == "" && !/^\S+@\S+\.\S+$/.test(email)) {
                displayErrorMessage("Please enter a valid email address.example (h@gmail.com)");
            }

            // Validate Message
            if (message === "") {
                displayErrorMessage("Please enter your message.");
            }

            if (errorContainer.innerHTML !== "") {
                errorContainer.style.display = "block";
                // Hide the error messages after 5 seconds
                setTimeout(function() {
                    errorContainer.innerHTML = "";
                    errorContainer.style.display = "none";
                }, 6000);
                return false;
            }

            return true; 
        }

        function displayErrorMessage(message) {
            var errorContainer = document.getElementById('errorContainer');
            errorContainer.innerHTML += message + "<br>";
        }
    </script>

<footer>
    <div class="footerContainer">
        <div class="socialIcon">
            <a href="#"><i class="fa-brands fa-facebook"></i></a>
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
            <a href="#"><i class="fa-brands fa-twitter"></i></a>
            <a href="#"><i class="fa-brands fa-google-plus"></i></a>
            <a href="#"><i class="fa-brands fa-youtube"></i></a>
        </div>
        <div class="footerNav">
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="#">News</a></li>
                <li><a href="../../stories&tipss/html/aboutUs.html">About</a></li>
                <li><a href="../../CoursePages/HTML/Contact.html">Contact Us</a></li>
                <li><a href="#">Help</a></li>
            </ul>
        </div>
    </div>
</footer>

</body>
</html>